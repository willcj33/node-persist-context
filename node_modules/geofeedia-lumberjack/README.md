# Nodus/Lumberjack Integration
## Files
- lumberjack-nodus.js: nodus-framework logging provider
- nodusrc.json: Instructs nodus-framework to load custom logging providers.
- config.js: Preconfigured Logging Configuration defined by the Geofeedia Service Environment Guidelines

## Running the sayhello.js command to test the logging

If do not already have nodus-run installed, then install it globally.
```
npm install -g nodus-run
```

Run the following command to execute the sayhello.js script using Nodus and pass it the name argument.
```
nodus-run sayhello.js name=Brad
```

You should output similar to:
```
[2016-04-19 6:52:38:127 pm] INFO sayhello
	logger: com.geofeedia.
	service:
	placement.cloud:
	placement.region:
	placement.zone:
	placement.hostname:
	placement.instanceid:
	placement.podname:
	data.name: Brad
"Hello, Brad!"
lumberjack ‚ùØ
```

# Adding Lumberjack to an existing Nodus application

## Include the `geofeedia-lumberjack` library from the Geofeedia NPM repository.
``` npm install --save geofeedia-lumberjack```

## Add a nodusrc.json file
Include a nodusrc.json that will instruct nodus to load a custom log provider.
- The `file:` prefix will instruct nodus to require a file using the CWD as path.

If you have installed Lumberjack via NPM, then the nodusrc.json file would look like this:
```
{
  "logger": {
    "level": "INFO",
    "providers": [
      {
        "type": "file:node_modules/geofeedia-lumberjack/lumberjack-nodus.js"
      }
    ]
  }
}
```
